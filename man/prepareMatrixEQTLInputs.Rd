% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prepareMatrixEQTLInputs.R
\name{prepareMatrixEQTLInputs}
\alias{prepareMatrixEQTLInputs}
\title{Prepare Matrix eQTL Input Files}
\usage{
prepareMatrixEQTLInputs(
  verbose = TRUE,
  features,
  sampleMetadata = NULL,
  groupCol = NULL,
  sampleCol = "sample_id",
  snpPaths,
  covPaths,
  resultsDir,
  minFeatureFrac = 0.8,
  minFeatureMean = 0,
  matrixName = NULL,
  nChunks = 1,
  topNrows = NULL,
  topNSNPs = NULL,
  groupSubset = NULL,
  sliceSize = 2000,
  gtfFile = NULL,
  useGeneName = FALSE
)
}
\arguments{
\item{verbose}{Logical; whether to print progress messages.}

\item{features}{SummarizedExperiment object or expression matrix (genes x samples).}

\item{sampleMetadata}{Optional data.frame with sample annotations (required if \code{features} is not a SE).}

\item{groupCol}{Column in metadata indicating group assignment.}

\item{sampleCol}{Column in metadata indicating sample identifiers (default: "sample_id").}

\item{snpPaths}{Character vector of paths to SNP matrices or directories.}

\item{covPaths}{Character vector of paths to covariate matrices or directories.}

\item{resultsDir}{Directory to save all output files.}

\item{minFeatureFrac}{Minimum fraction of samples a gene must be detected in (default: 0.8).}

\item{minFeatureMean}{Minimum mean expression for features to be retained (default: 0).}

\item{matrixName}{Name of assay to extract from SummarizedExperiment (optional).}

\item{nChunks}{Number of chunks to split SNP and expression matrices into (default: 5).}

\item{topNrows}{Optional limit on top expressed features to retain.}

\item{topNSNPs}{Optional limit on top SNPs by variance to retain.}

\item{groupSubset}{Optional vector of group names to include.}

\item{sliceSize}{Slice size for SlicedData export (default: 2000).}

\item{gtfFile}{Optional GTF file to retrieve genomic coordinates for features.}

\item{useGeneName}{Logical; whether to prioritize gene name over gene ID (default: FALSE).}
}
\value{
Invisible TRUE; writes RDS and text files to \code{resultsDir}.
}
\description{
Prepares and filters expression, SNP, and covariate matrices for Matrix eQTL analysis.
Supports SummarizedExperiment or raw matrices as input, optional GTF-based annotation,
and automatic chunking for large datasets. Saves intermediate results as RDS files.
}
